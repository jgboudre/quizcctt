<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz ‚Äì Demandes de subvention</title>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Archivo Narrow', sans-serif;
      background-color: #f9fafb;
      color: #1f2937;
      padding: 40px;
      max-width: 800px;
      margin: auto;
    }
    .container {
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }
    .intro p {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 20px;
    }
    .progress {
      font-size: 16px;
      margin-bottom: 20px;
      color: #6b7280;
    }
    .question {
      margin-bottom: 25px;
    }
    .question p {
      font-weight: bold;
      font-size: 18px;
    }
    .choices label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
    }
    button {
      background-color: #f97316;
      color: #000000;
      border: none;
      padding: 14px 22px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    .feedback {
      font-weight: bold;
      margin-top: 10px;
    }
    .hidden {
      display: none;
    }
    .explanation {
      font-style: italic;
      margin-top: 6px;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- PAGE D'INTRODUCTION -->
    <div id="introPage">
      <h1>Quiz ‚Äì Les demandes de subvention en recherche appliqu√©e</h1>
      <div class="intro">
        <p>
          Ce quiz vous propose de tester vos connaissances sur diff√©rents √©l√©ments cl√©s li√©s aux demandes de subvention en recherche appliqu√©e.
          Vous y trouverez des questions portant, entre autres, sur la mobilisation des connaissances, les attentes des organismes subventionnaires,
          et les bonnes pratiques √† adopter.
        </p>
      </div>
      <button id="startBtn">Commencer le quiz</button>
    </div>

    <!-- QUIZ -->
    <div id="quizPage" class="hidden">
      <div id="progress" class="progress"></div>
      <div id="quiz"></div>
      <button id="submitBtn">Valider</button>
      <div id="feedback" class="feedback"></div>
      <div id="explanation" class="explanation"></div>
      <button id="nextBtn" class="hidden">Suivant</button>
    </div>

  </div>

  <script>
    const quizData = [
      {
        question: "Cochez toutes les propositions qui illustrent correctement une d√©finition ou une forme pertinente de mobilisation des connaissances.",
        choices: [
          "Vulgarisation scientifique dans une revue grand public.",
          "Transfert des r√©sultats de recherche √† des partenaires en vue d‚Äôun changement de pratique.",
          "Sensibilisation d‚Äôacteurs d√©cisionnels √† des enjeux √©mergents par le biais de donn√©es probantes.",
          "Publication d‚Äôun article scientifique dans une revue √† comit√© de lecture.",
          "Collaboration avec des usag√®res et usagers pour co-construire des recommandations issues d‚Äôun projet.",
          "Organisation d‚Äôun webinaire interactif avec des parties prenantes d√®s le d√©but du projet.",
          "Utilisation de capsules vid√©o TikTok pour pr√©senter les r√©sultats √† un large public.",
          "Animation d‚Äôun atelier de co-interpr√©tation des r√©sultats avec des acteurs terrain."
        ],
        correctAnswers: [1, 2, 4, 5, 7],
        explanation: "‚ùå Les √©nonc√©s 0, 3 et 6 rel√®vent davantage de la diffusion ou de la vulgarisation. ‚úîÔ∏è Les √©nonc√©s 1, 2, 4, 5 et 7 illustrent des formes interactives, collaboratives ou strat√©giques de mobilisation des connaissances. La MC vise un usage direct, une transformation ou une appropriation des r√©sultats dans un contexte donn√©.",
        multiple: true
      },
      {
        question: "Pourquoi la mobilisation des connaissances est-elle importante en recherche appliqu√©e ?",
        choices: [
          "Elle permet de valoriser les r√©sultats de recherche en les rendant accessibles et utiles √† diff√©rents publics.",
          "Elle assure une publication rapide des articles scientifiques.",
          "Elle favorise l‚Äôengagement des parties prenantes dans les projets de recherche.",
          "Elle est requise dans toutes les demandes de subvention sans exception."
        ],
        correctAnswers: [0, 2],
        explanation: "Dans la recherche appliqu√©e, la mobilisation des connaissances renforce l'utilit√© des r√©sultats et permet d'impliquer activement les utilisateurs finaux ou les parties prenantes dans le processus.",
        multiple: true
      }
      // Vous pouvez ajouter d'autres questions ici...
    ];

    let currentQuestion = 0;

    // R√©f√©rences DOM
    const introPage = document.getElementById("introPage");
    const quizPage = document.getElementById("quizPage");
    const startBtn = document.getElementById("startBtn");
    const quizEl = document.getElementById("quiz");
    const submitBtn = document.getElementById("submitBtn");
    const feedbackEl = document.getElementById("feedback");
    const explanationEl = document.getElementById("explanation");
    const nextBtn = document.getElementById("nextBtn");
    const progressEl = document.getElementById("progress");

    // D√©marrer le quiz
    startBtn.addEventListener("click", () => {
      introPage.classList.add("hidden");
      quizPage.classList.remove("hidden");
      loadQuestion();
    });

    // Charger la question
    function loadQuestion() {
      const q = quizData[currentQuestion];
      quizEl.innerHTML = `<div class="question"><p>${q.question}</p><div class="choices">` +
        q.choices.map((choice, i) => `
          <label>
            <input type="${q.multiple ? 'checkbox' : 'radio'}" name="choice" value="${i}"> ${choice}
          </label>
        `).join('') + '</div></div>';

      feedbackEl.textContent = "";
      explanationEl.textContent = "";
      nextBtn.classList.add("hidden");
      submitBtn.disabled = false;
      progressEl.textContent = `Question ${currentQuestion + 1} sur ${quizData.length}`;
    }

    // Validation de la r√©ponse
    submitBtn.addEventListener("click", () => {
      const inputs = Array.from(document.querySelectorAll('input[name="choice"]'));
      const selected = inputs.filter(input => input.checked).map(input => parseInt(input.value));
      if (selected.length === 0) {
        feedbackEl.textContent = "Veuillez s√©lectionner au moins une r√©ponse.";
        explanationEl.textContent = "";
        return;
      }
      const q = quizData[currentQuestion];
      const correct = q.correctAnswers;

      const isCorrect = selected.length === correct.length && selected.every(v => correct.includes(v));
      feedbackEl.textContent = isCorrect ? "Bonne r√©ponse! ‚úÖ" : "Ce n‚Äôest pas tout √† fait √ßa. ‚ùå";
      explanationEl.textContent = q.explanation || "";

      nextBtn.classList.remove("hidden");
      submitBtn.disabled = true;
    });

    // Passage √† la question suivante
    nextBtn.addEventListener("click", () => {
      currentQuestion++;
      if (currentQuestion < quizData.length) {
        loadQuestion();
      } else {
        quizEl.innerHTML = `<p>Merci d‚Äôavoir compl√©t√© le quiz‚ÄØ! üéâ</p>`;
        submitBtn.style.display = "none";
        nextBtn.style.display = "none";
        explanationEl.textContent = "";
        feedbackEl.textContent = "";
        progressEl.textContent = "";
      }
    });
  </script>
<script>
  function sendHeightToParent() {
    const height = document.documentElement.scrollHeight || document.body.scrollHeight;
    window.parent.postMessage({ iframeHeight: height }, "*");
  }

  window.addEventListener("load", sendHeightToParent);
  window.addEventListener("resize", sendHeightToParent);
</script>

</body>
</html>
